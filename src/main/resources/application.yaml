server:
  port: ${PORT:8080}

spring:
  jpa:
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
    properties:
      hibernate:
        dialect: ${SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT:org.hibernate.dialect.MySQL8Dialect}
    show-sql: ${SPRING_JPA_SHOW_SQL:false}
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/newspaper?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
    username: ${SPRING_DATASOURCE_USERNAME:root}
    password: ${SPRING_DATASOURCE_PASSWORD:admin}
    hikari:
      maximum-pool-size: ${SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE:3}
      minimum-idle: ${SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE:1}

app:
  internal-proxy-key: ${INTERNAL_PROXY_KEY:}
  auth:
    jwt-secret: ${AUTH_JWT_SECRET:change-me-change-me-change-me-change-me}
    access-ttl-seconds: ${AUTH_ACCESS_TTL_SECONDS:900}
    refresh-ttl-seconds: ${AUTH_REFRESH_TTL_SECONDS:604800}
  media:
    max-bytes: ${MEDIA_MAX_BYTES:26214400}
    local-storage:
      root: ${MEDIA_LOCAL_ROOT:./storage/media}
    allowed-mime-types: ${MEDIA_ALLOWED_MIME_TYPES:image/jpeg,image/png,image/webp,image/gif,image/avif,image/svg+xml,video/mp4,video/webm,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document}
    disallowed-mime-types: ${MEDIA_DISALLOWED_MIME_TYPES:application/x-msdownload,text/html}
    url-fetch:
      connect-timeout-ms: ${MEDIA_URL_CONNECT_TIMEOUT_MS:5000}
      read-timeout-ms: ${MEDIA_URL_READ_TIMEOUT_MS:15000}
      max-bytes: ${MEDIA_URL_MAX_BYTES:26214400}
      max-redirects: ${MEDIA_URL_MAX_REDIRECTS:3}
      block-private-network: ${MEDIA_URL_BLOCK_PRIVATE_NETWORK:true}
